---
name: character-ref-generator
description: Generate Whisk-optimized prompts and production guidance for creating character reference images from a Story Brief. Use when the user has a completed Story Brief and needs to create consistent character reference images in Google Whisk before generating scene images. Reads character descriptions and style classification from the Brief, then produces a Character Reference Card per character with prompts calibrated to the visual style. Triggers: "character reference", "referencia de personaje", "crear personajes en Whisk", "generate character images", or when the user has a Story Brief and is ready to create character references.
---

# Character Reference Generator

Transform Story Brief character data into Whisk-optimized prompts and step-by-step guidance for generating consistent character reference images.

## Input

A completed **Story Brief** (`.md`) generated by the Story Brief Builder skill. The Brief must contain:

- Visual style description + classification (ðŸŽ¨/â¬›/âœ¨)
- Character section with style-appropriate physical details
- Aspect ratio (used for final scenes, but references use their own ratio)

If the Brief is missing any of these, stop and request the user complete it first.

## Process

### Step 1: Extract and Validate Characters

Read all characters from the Story Brief. For each character verify:

- Name and role are defined
- Physical description fields appropriate to the style classification are filled
- Clothing/silhouette information is present

If any critical field is missing, list what's needed and ask the user before proceeding.

### Step 2: Generate Character Reference Cards

Produce one **Character Reference Card** per character. Output as a single `.md` file.

The file starts with a Whisk Setup Guide, then one card per character:

```markdown
# Character References: [Story Title]

## Whisk Setup Guide

### Before you start

1. Open Whisk at https://labs.google/fx/tools/whisk
2. Set aspect ratio to **1:1 (square)** for all character references â€” square gives the most balanced full-body or bust capture regardless of your final scene ratio
3. Have your **Style reference image** ready â€” use the same one for ALL characters to ensure visual cohesion
4. You will generate characters one at a time, approve each, then lock the seed

### Workflow per character

1. Leave the **Subject** slot empty (or use the dice for a starting point)
2. Leave the **Scene** slot empty â€” the prompt will specify a clean background
3. Drop your style reference image in the **Style** slot
4. Paste the character prompt into the text prompt field
5. Generate 3-4 variations
6. Pick the best one and click **Lock Seed** (ðŸ”’)
7. Save/download the image â€” this becomes your Subject reference for all scenes
8. If not satisfied, use **Refine** mode to adjust specific details

### Tips for best results

- If Whisk changes the face too much between generations, add "consistent face, same person" to the prompt
- For multi-character stories, generate ALL character references in the same session to keep style cohesion
- Save the seed number for each character in case you need to regenerate later
```

Then for each character:

```markdown
---

## [CHAR-ID]: [Name/Role]

### Source Data (from Story Brief)

[Paste the character's complete description block from the Brief â€” this is the reference the user can verify against]

### Whisk Prompt

> [The optimized prompt â€” see style-specific rules below]

### Generation Notes

- **Pose**: [Recommended pose for the reference]
- **Framing**: [Bust shot / Full body / Three-quarter â€” with reasoning]
- **Background**: [Always clean/plain, but specify what works best for the style]
- **What to verify**: [Checklist of 3-4 key traits to confirm in the generated image]
```

### Step 3: Style-Specific Prompt Construction

Build each character's Whisk prompt following these rules based on the Brief's style classification:

**For ðŸŽ¨ COLOR styles:**

Prompt structure: `[age] [gender] with [skin tone], [hair color] [hair style] hair, [build], [facial features], [expression], wearing [clothing with colors], standing in a [pose], plain [white/light gray] background`

Example: `25-year-old woman with olive skin, long loose black hair, slim build, warm curious eyes, wearing white blouse and long blue skirt, standing relaxed, plain white background`

Emphasize: Specific colors for skin, hair, eyes, clothing. Natural lighting.

**For â¬› MONOCHROMATIC styles:**

Prompt structure: `[age] [gender], [hair style describing shape/volume], [build and silhouette], [skin texture], [facial features emphasizing form], [expression], wearing [clothing described by contrast and shape], [pose], plain background, [style name]`

Example: `78-year-old man, thin sparse hair under wide-brimmed hat, hunched thin frame, deeply wrinkled weathered skin, thick gray mustache, serious but kind expression, wearing patterned shirt and dark pants, seated pose, plain background, antique intaglio print style`

Emphasize: Texture words (wrinkled, smooth, weathered), shape words (angular, rounded, flowing), contrast (dark against light). Include the style name at the end. No color references.

**For âœ¨ STYLIZED styles:**

Prompt structure: `[simple character description focusing on 1-2 dominant traits], [overall shape/silhouette], [key accessory or identifier], [expression], plain background, [style name]`

Example: `cheerful young woman with big wavy hair and round face, tall slim figure, white top, plain background, pixel art style`

Emphasize: Simplicity. Only the traits that would be recognizable at thumbnail size. Include the style name. Fewer adjectives, bolder shapes.

### Common Rules (all styles)

1. **Always specify a clean/plain background.** Use "plain white background" for COLOR, "plain background" for MONOCHROMATIC and STYLIZED (the style reference controls the actual texture).
2. **Max prompt length: 30 words.** Whisk works best with concise prompts.
3. **Pose recommendation logic:**
   - Characters that sit in the story (elderly, sedentary) â†’ seated reference
   - Characters that are active/mobile â†’ standing relaxed reference
   - Characters defined by a physical action â†’ three-quarter pose showing the action potential
4. **Framing recommendation logic:**
   - Characters with distinctive full-body silhouettes (long dresses, hats, accessories) â†’ full body
   - Characters with distinctive facial features (glasses, beard, scars) â†’ bust shot
   - Default â†’ three-quarter (waist up) as the most versatile for scene generation
5. **Verification checklist per character** â€” always include:
   - Does the face match the described age and expression?
   - Is the hair style/shape correct?
   - Are clothing items present and recognizable?
   - Is the distinguishing feature (if any) visible?
   - (For COLOR only): Are skin tone and hair color accurate?
   - (For MONOCHROMATIC only): Is the silhouette distinctive enough to identify the character?

## Output

A single `.md` file containing:

1. Whisk Setup Guide (identical for every project)
2. One Character Reference Card per character
3. A final **Generation Order** recommendation (suggest which character to generate first â€” usually the protagonist, since they appear in most scenes and set the visual baseline)

## Language Policy

- **Card structure and Whisk prompts**: English
- **Source Data section**: Same language as the Story Brief content
- **Generation Notes and tips**: Spanish (user-facing guidance)

## Example

See `references/example-character-refs.md` for a complete Story Brief â†’ Character Reference Cards example.
